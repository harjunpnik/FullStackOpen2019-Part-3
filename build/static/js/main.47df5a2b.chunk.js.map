{"version":3,"sources":["components/Person.js","components/Persons.js","components/PersonForm.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","person","deletePerson","name","number","onClick","Persons","persons","filter","toLowerCase","includes","map","key","PersonForm","onSubmit","nameValue","handleNameChange","numberValue","handleNumberChange","value","onChange","type","Filter","handleFilterChange","baseUrl","axios","get","newObject","post","id","delete","put","then","response","data","Notification","message","error","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","notificationMessage","setNotificationMessage","errorStatus","setErrorStatus","useEffect","personService","event","target","preventDefault","personObject","window","confirm","find","setTimeout","catch","concat","pers","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.47df5a2b.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({person, deletePerson}) => {\r\n    return(\r\n        <p>{person.name} {person.number} <button onClick={() => deletePerson(person)}>Delete</button></p>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({persons, filter, deletePerson}) => {\r\n\r\n    const personRows = () =>  persons.filter(person =>\r\n        person.name.toLowerCase().includes(filter.toLowerCase())  \r\n      ).map (person =>\r\n        <Person key={person.name} person={person} deletePerson={deletePerson} />\r\n      )\r\n\r\n    return(\r\n        <div>\r\n            {personRows()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst PersonForm = ({onSubmit, nameValue, handleNameChange, numberValue, handleNumberChange}) => {\r\n    return(\r\n        <form onSubmit={onSubmit}>\r\n        <div>Name: \r\n          <input\r\n            value={nameValue}\r\n            onChange={handleNameChange}\r\n           />\r\n        </div>\r\n        <div>Number: \r\n          <input\r\n            value={numberValue}\r\n            onChange={handleNumberChange}\r\n           />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({filter,handleFilterChange}) => {\r\n    return(\r\n        <div>Filter shown with: \r\n            <input\r\n            value={filter}\r\n            onChange={handleFilterChange}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter\r\n\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    return axios.delete(baseUrl + \"/\" + id)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n    getAll: getAll,\r\n    create: create,\r\n    deletePerson: deletePerson,\r\n    update: update\r\n}","import React from 'react'\r\n\r\nconst Notification = ({ message, error }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n\r\n\tconst notificationStyle = {\r\n        color: 'green',\r\n\t\tbackground: 'lightgrey',\r\n\t\tfontSize: '20px',\r\n\t\tborderStyle: 'solid',\r\n\t\tborderRadius: '5px',\r\n\t\tpadding: '10px',\r\n\t\tmarginBottom: '10px'\r\n    }\r\n\r\n    const errorStyle = {\r\n        color: 'red',\r\n\t\tbackground: 'lightgrey',\r\n\t\tfontSize: '20px',\r\n\t\tborderStyle: 'solid',\r\n\t\tborderRadius: '5px',\r\n\t\tpadding: '10px',\r\n\t\tmarginBottom: '10px'\r\n    }\r\n  \r\n    return (\r\n      <div style={ error ? errorStyle : notificationStyle}>\r\n\t\t{message}\r\n\t  </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect  } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [errorStatus, setErrorStatus] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    if(!persons.map(person => person.name).includes(personObject.name)){\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNotificationMessage(\"Added \" + personObject.name)\n          setTimeout(() => {\n            setNotificationMessage(null)\n            setErrorStatus(null)\n          }, 5000)\n        })\n\n    }else{\n      if(window.confirm(personObject.name + ' is already added to the phonebook, replace the old number with a new one?')){\n        const id = persons.find(person => person.name === personObject.name).id\n        personService\n          .update(id, personObject)\n          .then(response => {\n            setPersons(persons.map(person => person.name === personObject.name ? personObject : person))\n            setNotificationMessage(\"Changed number of \" + personObject.name)\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000)\n          }) \n          .catch(error => {\n            setErrorStatus(true)\n            setNotificationMessage(\"Information of \" + personObject.name + \"has already been removed from server\")\n            setTimeout(() => {\n              setNotificationMessage(null)\n              setErrorStatus(null)\n            }, 5000)\n          })\n      }\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNameChange = (event) => {\n    //console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    //console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    //console.log(event.target.value)\n    setFilter(event.target.value)\n  }\n\n  const handlePersonDeletion = (person) => {\n    if(window.confirm(\"Delete \" + person.name + \" ?\")){\n      personService\n        .deletePerson(person.id)\n        .then(response => {\n          setPersons(persons.filter(pers =>\n            person.id !== pers.id\n          ))\n        }) \n        .catch(error => {            \n          setErrorStatus(true)\n          setNotificationMessage(\"Information of \" + person.name + \"has already been removed from server\")\n          setTimeout(() => {\n            setNotificationMessage(null)\n            setErrorStatus(null)\n          }, 5000)\n        })\n    }\n\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={notificationMessage} error={errorStatus} />\n\n      <Filter filter={filter} handleFilterChange={handleFilterChange}>/></Filter>\n      \n      <h3>Add a new</h3>\n\n      <PersonForm onSubmit={addPerson} \n        nameValue={newName} \n        handleNameChange={handleNameChange} \n        numberValue={newNumber} \n        handleNumberChange={handleNumberChange}\n      />\n\n      <h3>Numbers</h3>\n\n      <Persons persons={persons} filter={filter} deletePerson={handlePersonDeletion}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}